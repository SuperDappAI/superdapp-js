# Multi-Provider AI SuperDapp Agent

A model-agnostic SuperDapp agent that demonstrates seamless switching between different AI providers. The same codebase works with OpenAI, Anthropic, or Google AI - just change environment variables!

## ‚ú® Features

- **Universal Commands** - Same interface works with any AI provider
- **Provider Status** (`/status`) - Check current AI configuration and capabilities
- **Text Generation** (`/generate`) - Universal text generation with any provider
- **Smart Conversations** (`/chat`) - Adapts to each provider's strengths
- **Response Comparison** (`/compare`) - Test prompts and compare provider responses
- **Optimal Tasks** (`/optimal`) - See suggested tasks for current provider
- **Easy Switching** - Change providers without code changes
- **Configuration Tools** - Monitor and validate AI setup

## üöÄ Quick Start

### Prerequisites

- Node.js 18+ 
- SuperDapp API token
- At least one AI provider API key

### 1. Setup

```bash
# Install dependencies (includes all provider SDKs)
npm install

# Copy environment template
cp .env.example .env
```

### 2. Configure Environment

Edit `.env` file with your credentials. Choose **one** provider to start:

#### Option A: OpenAI
```env
# SuperDapp Configuration
API_TOKEN=your_superdapp_api_token_here
API_BASE_URL=https://api.superdapp.ai
PORT=3000

# OpenAI Configuration
AI_PROVIDER=openai
AI_MODEL=gpt-4
AI_API_KEY=sk-your_openai_api_key_here
```

#### Option B: Anthropic
```env
# SuperDapp Configuration
API_TOKEN=your_superdapp_api_token_here
API_BASE_URL=https://api.superdapp.ai
PORT=3000

# Anthropic Configuration
AI_PROVIDER=anthropic
AI_MODEL=claude-3-sonnet-20240229
AI_API_KEY=sk-ant-your_anthropic_api_key_here
```

#### Option C: Google AI
```env
# SuperDapp Configuration
API_TOKEN=your_superdapp_api_token_here
API_BASE_URL=https://api.superdapp.ai
PORT=3000

# Google AI Configuration
AI_PROVIDER=google
AI_MODEL=gemini-pro
AI_API_KEY=your_google_ai_api_key_here
```

### 3. Run the Agent

```bash
# Development mode (with auto-reload)
npm run dev

# Production mode
npm run build
npm start

# With tunneling for remote testing
npm run dev:tunnel
```

## üí¨ Commands

### Core Commands

| Command | Usage | Description |
|---------|--------|-------------|
| `/status` | `/status` | Show current AI provider configuration and capabilities |
| `/generate` | `/generate Write a poem about space` | Universal text generation with any provider |
| `/chat` | `/chat Hello, how are you?` | Provider-adaptive conversations |
| `/compare` | `/compare Explain quantum physics` | Generate response and show provider info |
| `/optimal` | `/optimal` | See tasks optimized for current provider |

### Utility Commands

| Command | Usage | Description |
|---------|--------|-------------|
| `/start` | `/start` | Welcome message and current provider info |
| `/help` | `/help` | Comprehensive help and switching instructions |

## üéØ Example Usage

### Checking Configuration
```
User: /status
Agent: ü§ñ AI Configuration Status

Provider: OPENAI
Model: gpt-4
API Key: ***abc123
Base URL: Default

Provider Capabilities:
‚Ä¢ Strengths: Versatile, creative tasks, coding, conversational
‚Ä¢ Models: GPT-4, GPT-3.5 Turbo, GPT-4 Turbo
‚Ä¢ Best for: Code generation, creative writing, general Q&A
```

### Universal Text Generation
```
User: /generate Write a haiku about artificial intelligence
Agent: Generated by OPENAI gpt-4:

Silicon dreams wake,
Neural pathways spark with thought‚Äî
Mind meets machine's dance.
```

### Provider Comparison
```
User: /compare Explain machine learning simply
Agent: ü§ñ Generating response using OPENAI...

OPENAI Response:
Machine learning is like teaching a computer to recognize patterns...

*Try the same prompt with different providers to see how they differ!*
```

## üîÑ Switching Providers

### Quick Switch Guide

1. **Stop the agent** (Ctrl+C)
2. **Update environment variables** in `.env` file:
   - Change `AI_PROVIDER` to `openai`, `anthropic`, or `google`
   - Update `AI_MODEL` for the new provider
   - Update `AI_API_KEY` with the new provider's key
3. **Restart the agent** with `npm run dev`

### Provider-Specific Settings

#### OpenAI Models
```env
AI_PROVIDER=openai
# Choose one:
AI_MODEL=gpt-4                    # Most capable
AI_MODEL=gpt-4-turbo             # Fast and capable
AI_MODEL=gpt-3.5-turbo           # Cost-effective
```

#### Anthropic Models
```env
AI_PROVIDER=anthropic
# Choose one:
AI_MODEL=claude-3-5-sonnet-20241022    # Latest, most capable
AI_MODEL=claude-3-sonnet-20240229      # Balanced
AI_MODEL=claude-3-haiku-20240307       # Fast and economical
```

#### Google AI Models
```env
AI_PROVIDER=google
# Choose one:
AI_MODEL=gemini-pro              # Standard model
AI_MODEL=gemini-pro-vision       # Multimodal (images + text)
AI_MODEL=gemini-1.5-pro          # Enhanced capabilities
```

## üéØ Provider Strengths

### OpenAI (GPT Models)
- **Best for:** Creative writing, code generation, general conversations
- **Strengths:** Versatility, creativity, coding assistance
- **Optimal tasks:** `/generate Write a Python function`, `/chat How do I learn programming?`

### Anthropic (Claude Models)  
- **Best for:** Analysis, research, academic writing, ethical discussions
- **Strengths:** Reasoning, nuanced thinking, long-form content
- **Optimal tasks:** `/generate Analyze climate change ethics`, `/chat What are key moral considerations?`

### Google AI (Gemini Models)
- **Best for:** Information synthesis, factual responses, explanations
- **Strengths:** Knowledge integration, clear explanations
- **Optimal tasks:** `/generate Explain how GPS works`, `/chat What are renewable energy benefits?`

## ‚öôÔ∏è Configuration

### Environment Variables

```env
# Required - SuperDapp API
API_TOKEN=your_superdapp_token      # SuperDapp API token
API_BASE_URL=https://api.superdapp.ai  # SuperDapp API endpoint

# Required - AI Provider
AI_PROVIDER=openai|anthropic|google  # Choose one provider
AI_MODEL=model_name                  # Provider-specific model
AI_API_KEY=your_api_key             # Provider API key

# Optional
PORT=3000                           # Server port
AI_BASE_URL=custom_endpoint         # Custom provider endpoint
```

### Multiple Provider Keys

For easy switching, you can set all provider keys:

```env
# All provider keys (for easy switching)
OPENAI_API_KEY=sk-your-openai-key
ANTHROPIC_API_KEY=sk-ant-your-anthropic-key  
GOOGLE_AI_API_KEY=your-google-key

# Then just change AI_PROVIDER and AI_MODEL
AI_PROVIDER=openai
AI_MODEL=gpt-4
AI_API_KEY=${OPENAI_API_KEY}
```

## üõ†Ô∏è Development

### Project Structure

```
multi-provider/
‚îú‚îÄ‚îÄ index.ts          # Main agent implementation
‚îú‚îÄ‚îÄ package.json      # All provider dependencies
‚îú‚îÄ‚îÄ tsconfig.json     # TypeScript configuration
‚îú‚îÄ‚îÄ .env.example      # Environment template
‚îî‚îÄ‚îÄ README.md         # This file
```

### Available Scripts

```bash
npm run dev           # Development with auto-reload
npm run build         # Compile TypeScript  
npm start             # Run production build
npm run tunnel        # Create ngrok tunnel
npm run dev:tunnel    # Dev mode with tunnel
```

### Server Endpoints

- **Webhook**: `POST /webhook` - Receives SuperDapp webhook requests
- **Health**: `GET /health` - Server status with current provider info

## üîß Customization

### Adding New Providers

To add support for additional AI providers:

1. **Install SDK**: `npm install @ai-sdk/new-provider`
2. **Add provider info** to `getProviderInfo()` function
3. **Add optimal tasks** to the suggestions object
4. **Update help text** with new provider instructions

### Custom Command Adaptation

```typescript
// Adapt commands based on provider strengths
agent.addCommand('/custom', async ({ roomId, message }) => {
  const provider = process.env.AI_PROVIDER;
  const input = message.data?.split(' ').slice(1).join(' ');
  
  // Provider-specific system prompts
  let systemPrompt = "You are a helpful assistant.";
  switch (provider) {
    case 'openai':
      systemPrompt = "You are a creative and versatile assistant.";
      break;
    case 'anthropic':
      systemPrompt = "You are a thoughtful and analytical assistant.";
      break;
    case 'google':
      systemPrompt = "You are a knowledgeable and informative assistant.";
      break;
  }
  
  const aiClient = await agent.getAiClient();
  const response = await aiClient.generateText([
    { role: "system", content: systemPrompt },
    { role: "user", content: input }
  ]);
  
  await agent.sendConnectionMessage(roomId, response);
});
```

## üõ°Ô∏è Error Handling

The agent handles various scenarios gracefully:

- **Missing Configuration**: Clear guidance on setting up providers
- **Invalid API Keys**: Helpful error messages with setup instructions  
- **Provider Switching**: Validation and status checks
- **Network Issues**: Retry logic and fallback responses

## üìö Related Examples

- **[Basic OpenAI](../basic-openai/)** - OpenAI-specific features and optimizations
- **[Anthropic Chat](../anthropic-chat/)** - Claude-specific analysis and reasoning
- **[Enhanced Features](../enhanced-features/)** - Advanced AI capabilities

## ü§ù Contributing

1. Fork the repository
2. Create your feature branch
3. Add support for new providers or commands
4. Test with multiple providers
5. Submit a pull request

## üìÑ License

This example is part of the SuperDapp Agents SDK and is released under the MIT License.